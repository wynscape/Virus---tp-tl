<!DOCTYPE html>
<html lang="en">
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Virus Transcription</title>
<style>
body{margin:0;padding:20px;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;background:#f8fafc;color:#334155}
.container{max-width:900px;margin:0 auto}
.header{text-align:center;margin-bottom:30px;padding-bottom:20px;border-bottom:1px solid #e2e8f0}
.header h1{font-size:2.2rem;color:#0f172a;margin:0 0 8px;font-weight:600}
.header h2{font-size:1.3rem;color:#64748b;margin:0;font-weight:400}
.interactive-area{margin:40px 0}
.virus-comparison{display:flex;flex-wrap:wrap;gap:30px;justify-content:center}
.virus-card{background:#fff;border-radius:16px;padding:25px;box-shadow:0 4px 20px rgba(0,0,0,0.06);flex:1;min-width:300px;border:1px solid #e2e8f0}
.virus-title{text-align:center;font-size:1.4rem;margin:0 0 20px;color:#0f172a;padding-bottom:15px;border-bottom:1px solid #f1f5f9}
.virus-model{height:200px;margin:25px auto;position:relative}
.virus-envelope{width:180px;height:180px;border-radius:50%;background:#cbd5e1;margin:0 auto;position:relative;border:3px solid #94a3b8}
.virus-core{width:80px;height:80px;background:#1e293b;border-radius:50%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;align-items:center;justify-content:center}
.rna-strands{position:absolute;width:100%;height:100%}
.rna-strand{stroke-width:2;stroke-linecap:round;fill:none}
.rna-point{position:absolute;width:8px;height:8px;border-radius:50%;animation:bounce 2s infinite}
.glycoprotein{position:absolute;width:4px;height:25px;background:#94a3b8;border-radius:2px}
.glycoprotein:before{content:'';position:absolute;width:12px;height:12px;background:#64748b;border-radius:50%;top:-6px;left:50%;transform:translateX(-50%)}
.control-panel{background:#fff;border-radius:16px;padding:25px;margin:30px auto;max-width:600px;box-shadow:0 4px 20px rgba(0,0,0,0.06);border:1px solid #e2e8f0}
.ribosome-drag{width:70px;height:70px;background:#8b5cf6;border-radius:50%;margin:20px auto;cursor:grab;display:flex;align-items:center;justify-content:center;color:white;font-weight:600;font-size:0.9rem;box-shadow:0 4px 12px rgba(139,92,246,0.3);transition:all 0.3s}
.ribosome-drag:active{cursor:grabbing}
.action-btn{background:#3b82f6;color:white;border:none;padding:14px 28px;border-radius:10px;cursor:pointer;font-size:1rem;font-weight:500;width:100%;margin:10px 0;transition:all 0.3s}
.action-btn:hover{background:#2563eb;transform:translateY(-2px)}
.action-btn:disabled{background:#cbd5e1;cursor:not-allowed;transform:none}
.convert-btn{background:#f59e0b}
.convert-btn:hover{background:#d97706}
.reset-btn{background:#64748b;margin-top:20px}
.reset-btn:hover{background:#475569}
.status-panel{background:#f1f5f9;border-radius:12px;padding:20px;margin:25px 0;min-height:80px;border-left:4px solid #3b82f6}
.status-text{text-align:center;font-size:1.1rem;color:#1e293b;margin:0}
.process-indicator{height:4px;background:#dbeafe;border-radius:2px;margin:20px 0;overflow:hidden}
.process-bar{height:100%;background:#3b82f6;width:0%;transition:width 1s}
.positive-rna{background:#10b981 !important}
@keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-5px)}}
@media(max-width:768px){.virus-card{min-width:100%}.virus-model{height:180px}.virus-envelope{width:160px;height:160px}.header h1{font-size:1.9rem}}
</style></head>
<body>
<div class="container">
<div class="header"><h1>Virus Transcription</h1><h2>Compare RNA Processing Mechanisms</h2></div>
<div class="interactive-area">
<div class="virus-comparison">
<div class="virus-card" id="flu-card">
<h3 class="virus-title">Influenza Virus</h3>
<div class="virus-model">
<div class="virus-envelope" id="flu-envelope">
<div class="virus-core"><svg class="rna-strands" id="flu-rna"></svg></div>
</div>
</div>
<div class="process-indicator"><div class="process-bar" id="flu-process"></div></div>
</div>
<div class="virus-card" id="hiv-card">
<h3 class="virus-title">HIV</h3>
<div class="virus-model">
<div class="virus-envelope" id="hiv-envelope">
<div class="virus-core"><svg class="rna-strands" id="hiv-rna"></svg></div>
</div>
</div>
<div class="process-indicator"><div class="process-bar" id="hiv-process"></div></div>
</div>
</div>
<div class="control-panel">
<div class="ribosome-drag" id="ribosome" draggable="true">Ribosome</div>
<p style="text-align:center;color:#64748b;margin:10px 0 20px">Drag ribosome to virus model</p>
<button class="action-btn convert-btn" id="convert-btn" disabled>Convert RNA to Positive Sense</button>
<button class="action-btn" id="transcribe-btn" disabled>Begin Translation</button>
<div class="status-panel"><p class="status-text" id="status">Drag ribosome to start interaction</p></div>
<button class="action-btn reset-btn" id="reset-btn">Reset</button>
</div>
</div>
</div>
<script>
(function(){
var d=document,i='getElementById',c='classList',a='add',r='remove',t=d[i]('ribosome'),f=d[i]('flu-envelope'),h=d[i]('hiv-envelope'),s=d[i]('status'),b=d[i]('convert-btn'),u=d[i]('transcribe-btn'),x=d[i]('reset-btn'),p=d[i]('flu-process'),q=d[i]('hiv-process'),y=d[i]('flu-rna'),z=d[i]('hiv-rna'),g=!1,v=!1,m=!1,n=!1;
function w(){
var e=d.createElementNS('http://www.w3.org/2000/svg','path');
e.setAttribute('d','M20,40 Q40,20 60,40 Q80,60 100,40');
e.setAttribute('class','rna-strand');e.setAttribute('stroke','#f97316');y.appendChild(e);
for(var t=0;t<8;t++){var o=d.createElement('div');o.className='rna-point';
o.style.left=50+35*Math.cos(0.785*t)+'%';o.style.top=50+35*Math.sin(0.785*t)+'%';
o.style.background='#f97316';o.style.animationDelay=t*0.2+'s';y.parentNode.appendChild(o)}}
function O(){
var e=d.createElementNS('http://www.w3.org/2000/svg','path');
e.setAttribute('d','M25,50 Q50,30 75,50');e.setAttribute('class','rna-strand');
e.setAttribute('stroke','#3b82f6');z.appendChild(e);
var t=d.createElementNS('http://www.w3.org/2000/svg','path');
t.setAttribute('d','M30,60 Q50,40 70,60');t.setAttribute('class','rna-strand');
t.setAttribute('stroke','#3b82f6');z.appendChild(t);
for(var o=0;o<2;o++){var a=d.createElement('div');a.className='rna-point';
a.style.left=50+30*Math.cos(3.14*o)+'%';a.style.top=50+30*Math.sin(3.14*o)+'%';
a.style.background='#3b82f6';a.style.animationDelay=o*0.5+'s';z.parentNode.appendChild(a)}}
function A(){for(var e=0;e<16;e++){var t=d.createElement('div');t.className='glycoprotein';
var o=90,a=2*Math.PI/16*e,i=o+70*Math.cos(a),c=o+70*Math.sin(a);
t.style.left=i+'px';t.style.top=c+'px';t.style.transform='rotate('+180*a/Math.PI+'deg)';
f.appendChild(t);var n=t.cloneNode(!0);h.appendChild(n)}}
function C(){g=!1;v=!1;m=!1;n=!1;t.style.transform='translate(0,0)';
t.style.background='#8b5cf6';s.textContent='Drag ribosome to start interaction';
b.disabled=!0;u.disabled=!0;p.style.width='0%';q.style.width='0%';
p[c][r]('positive-rna');q[c][r]('positive-rna');
var e=y.parentNode.querySelectorAll('.rna-point');
e.forEach(function(t){t.style.background='#f97316'});
var o=z.parentNode.querySelectorAll('.rna-point');
o.forEach(function(t){t.style.background='#3b82f6'})}
function k(e){var o=e.clientX-t.offsetWidth/2,a=e.clientY-t.offsetHeight/2;
t.style.position='fixed';t.style.left=o+'px';t.style.top=a+'px'}
function L(){t.style.position='';t.style.left='';t.style.top='';
var e=t.getBoundingClientRect(),o=f.getBoundingClientRect(),a=h.getBoundingClientRect();
var i=e.left+e.width/2,c=e.top+e.height/2,l=Math.sqrt(Math.pow(i-o.left-o.width/2,2)+Math.pow(c-o.top-o.height/2,2));
var n=Math.sqrt(Math.pow(i-a.left-a.width/2,2)+Math.pow(c-a.top-a.height/2,2));
if(l<100&&!g){g=!0;t.style.transform='translate('+(o.left+o.width/2-i)+'px,'+(o.top+o.height/2-c)+'px)';
t.style.background='#7c3aed';setTimeout(function(){s.textContent='Influenza: Negative-sense RNA detected. Must convert to positive sense first.';
b.disabled=!1},800)}else if(n<100&&!v){v=!0;t.style.transform='translate('+(a.left+a.width/2-i)+'px,'+(a.top+a.height/2-c)+'px)';
t.style.background='#7c3aed';setTimeout(function(){s.textContent='HIV: Positive-sense RNA ready for direct translation.';
u.disabled=!1},800)}else t.style.transform='translate(0,0)',t.style.background='#8b5cf6'}
function T(){if(!m){m=!0;b.disabled=!0;s.textContent='Converting negative-sense RNA to positive sense...';
setTimeout(function(){p[c][a]('positive-rna');p.style.width='100%';
var e=y.parentNode.querySelectorAll('.rna-point')[3];e.style.background='#10b981';
s.textContent='Positive RNA generated! Ready for translation.';u.disabled=!1},1200)}}
function R(){if(g&&m){n=!0;u.disabled=!0;s.textContent='Translating viral proteins...';
setTimeout(function(){s.textContent='Influenza: Translation successful using converted positive RNA.'},1500)}else if(v){n=!0;u.disabled=!0;
s.textContent='HIV: Direct translation in progress...';setTimeout(function(){q.style.width='100%';
q[c][a]('positive-rna');s.textContent='HIV: Direct translation completed.'},1500)}}
t.addEventListener('dragstart',k);d.addEventListener('dragover',function(e){e.preventDefault()});
d.addEventListener('drop',function(e){e.preventDefault();L()});b.addEventListener('click',T);
u.addEventListener('click',R);x.addEventListener('click',C);w();O();A();
})();
</script>
</body>
</html>
